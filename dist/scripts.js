const pokemonRepository=function(){const t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=250",n=document.getElementById("hunt__filter");function i(e){"object"==typeof e&&"detailsUrl"in e?t.push(e):console.log("please hunt for the right pokemon")}function o(t){s(t).then(function(){r(t)})}function l(){let t=document.querySelector(".loading__message");window.addEventListener("load",()=>{t.style.visibility="visible"})}function a(){let t=document.querySelector(".loading__message");setTimeout(()=>{t.style.visibility="hidden"},500)}function s(t){l();let e=t.detailsUrl;return fetch(e).then(function(t){return a(),t.json()}).then(function(e){t.imageUrlFront=e.sprites.front_default,t.imageUrlBack=e.sprites.back_default,t.height=e.height,t.weight=e.weight,t.types=e.types,t.abilities=e.abilities}).catch(function(t){a(),console.error(t)})}function r(t){let e=$(".modal-body"),n=$(".modal-title");e.empty(),n.empty();let i=$("<h1>"+t.name+"</h1>"),o=$('<img class = "modal-img" style = "width:50%">');o.attr("src",t.imageUrlFront);let l=$('<img class = "modal-img" style = "width:20%">');l.attr("src",t.imageUrlBack);let a=$("<p>Height: "+t.height+"</p>"),s=$("<p>Weight: "+t.weight+"</p>"),r=[];Object.keys(t.types).forEach(e=>{r.push(t.types[e].type.name)});let c=$("<p>Type: "+r+"</p>"),p=[];Object.keys(t.abilities).forEach(e=>{p.push(t.abilities[e].ability.name)});let d=$("<p>Ability: "+p+"</p>");n.append(i),e.append(o),e.append(l),e.append(a),e.append(s),e.append(c),e.append(d)}return n.addEventListener("input",()=>{let t=document.querySelectorAll(".group-list-item"),e=n.value.toUpperCase();t.forEach(function(t){t.innerText.toUpperCase().indexOf(e)>-1?t.style.display="":t.style.display="none"})}),{add:i,getAll:function(){return t},addListItem:function(t){let e=document.querySelector(".pokemon__list"),n=document.createElement("li");n.classList.add("group-list-item","col-12","col-md-4","col-lg-3","my-2");let i=document.createElement("button");i.innerText=t.name,i.classList.add("btn","btn-info","btn-block","btn-md","text-uppercase","font-weight-normal"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pokemonModalContainer"),n.appendChild(i),e.appendChild(n),i.addEventListener("click",function(){o(t)})},loadList:function(){return l(),fetch(e).then(function(t){return t.json()}).then(function(t){a(),t.results.forEach(function(t){i({name:t.name,detailsUrl:t.url})})}).catch(function(t){a(),console.error(t)})},loadDetails:s,showDetails:o,showModal:r}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});